@page "/"
@inject HttpClient Http

<h1>Hello, world!</h1>
<p>@Message</p>
<input type="text" @bind="Name" />
<button @onclick="Invoke">Invoke</button>

@code {
    private string Name { get; set; }
    private string Message { get; set; }
    private async Task Invoke()
    {
        var res = await Http.GetAsync($"/api/Greet?name={Name}");
        if (res.IsSuccessStatusCode)
        {
            Message = await res.Content.ReadAsStringAsync();
        }
        else
        {
            Message = "Error!!";
        }
    }
}
